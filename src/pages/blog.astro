---
import BaseLayout from '../layouts/BaseLayout.astro';
import ContactCTA from '../components/ContactCTA.astro';
import Hero from '../components/Hero.astro';



const response = await fetch('https://blog.lzomedia.com/wp-json/wp/v2/posts?_embed&per_page=50');
const data = await response.json();
const posts = data.map((post) => {
    return {
        title: post.title.rendered,
        link: post.link,
        date: post.date,
        excerpt: post.excerpt.rendered,
    }
});


---

<BaseLayout
	title="Blog - Lzo Media"
	description="My thoughts on web development, design, and more."
>
	<div class="stack gap-20">

		<main class="wrapper stack gap-12">
			<Hero
				title="My Blog"
				tagline="My thoughts on web development, design, and more."
				align="center"
			/>
			<div class="container px-6 py-10 mx-auto">
				<div class="grid grid-cols-1 gap-8 md:grid-cols-1">
					{
						posts.map((post) => (
							<div class="lg:flex dark:bg-gray-900">
								<div class="flex flex-col lg:mx-6">
									<h3 class="text-white-800">
										<a target="_blank" title{`${post.title}`} href={`${post.link}`}
										   rel="noreferrer"
										   title={`${post.title}`}
										   class="text-xl font-semibold text-white-800 hover:underline dark:text-white ">
											{post.title}
										</a>
									</h3>
									<p set:html={post.excerpt}></p>
								</div>
							</div>
						))
						}
						</div>
						</div>
		</main>

	</div>
</BaseLayout>
